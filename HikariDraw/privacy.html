<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Privacy Policy</title>
  <meta name="color-scheme" content="light dark"/>
  <style>
    :root {
      --bg: #f9fafb;
      --fg: #1f2937;
      --muted: #6b7280;
      --card: #ffffff;
      --accent: #2563eb;
      --border: #e5e7eb;
    }
    @media (prefers-color-scheme: dark) {
      :root {
        --bg: #0b0f14;
        --fg: #e5e7eb;
        --muted: #9ca3af;
        --card: #121821;
        --accent: #7aa2f7;
        --border: #1f2937;
      }
    }
    * { box-sizing: border-box; }
    html, body { height: 100%; }
    body {
      margin: 0;
      font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
      background:
        radial-gradient(1200px 800px at 75% -10%, #dbeafe33, transparent 60%),
        radial-gradient(1000px 600px at 0% 110%, #f5d0fe22, transparent 60%),
        var(--bg);
      color: var(--fg);
      line-height: 1.6;
    }
    .wrap { max-width: 900px; margin: clamp(16px, 4vw, 64px) auto; padding: clamp(12px, 2vw, 24px); }
    .card {
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: 16px;
      padding: clamp(20px, 3vw, 40px);
      box-shadow: 0 10px 30px rgba(0,0,0,0.05), inset 0 1px 0 rgba(255,255,255,0.03);
    }
    header { display: flex; gap: 12px; align-items: center; justify-content: space-between; flex-wrap: wrap; }
    h1 { margin: 0; font-size: clamp(1.6rem, 3vw, 2.4rem); letter-spacing: .2px; }
    .muted { color: var(--muted); }
    .meta { font-size: 0.95rem; }
    hr { border: none; border-top: 1px solid var(--border); margin: 16px 0 20px; }
    h2 { margin: 1.2rem 0 .6rem; font-size: clamp(1.15rem, 2.2vw, 1.45rem); }
    p, li { font-size: clamp(.98rem, 1.6vw, 1.05rem); }
    ul { margin: .4rem 0 .8rem 1.2rem; }
    .footer { margin-top: 1.2rem; font-size: .95rem; color: var(--muted); }
    .controls { display: flex; align-items: center; gap: 10px; }
    select {
      border: 1px solid var(--border);
      background: transparent;
      color: var(--fg);
      padding: 8px 10px;
      border-radius: 10px;
      font-size: 0.95rem; cursor: pointer;
    }
    a { color: var(--accent); text-decoration: none; }
    a:hover { text-decoration: underline; }
    /* RTL support */
    [dir="rtl"] .card { direction: rtl; }
    [dir="rtl"] ul { margin-left: 0; margin-right: 1.2rem; }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card" id="policyCard">
      <header>
        <div>
          <h1 id="title">Privacy Policy</h1>
          <div class="meta muted" id="effectiveDate">Effective date: —</div>
        </div>
        <div class="controls">
          <label for="lang" class="muted" id="langLabel">Language:</label>
          <select id="lang"></select>
        </div>
      </header>

      <hr/>

      <section>
        <h2 id="sectionNoData">We Collect No Data</h2>
        <p id="pNoData1"></p>
        <ul id="listNoData"></ul>
        <p id="pNoData2"></p>
      </section>

      <section>
        <h2 id="sectionPermissions">Device Permissions</h2>
        <p id="pPermissions"></p>
      </section>

      <section>
        <h2 id="sectionChanges">Changes to This Policy</h2>
        <p id="pChanges1"></p>
        <p id="pChanges2"></p>
      </section>

      <section>
        <h2 id="sectionContact">Contact Us</h2>
        <p id="pContact"></p>
        <ul id="listContact"></ul>
      </section>

      <div class="footer" id="footerNote"></div>
    </div>
  </div>

<script>
/* ===== CONFIG (edit for reuse) ===== */
const CONFIG = {
  appName: "Hikari Draw",                       // e.g. "Hikari Draw"
  effectiveDateISO: "2025-09-01",              // YYYY-MM-DD
  contactEmail: "jcanhita.apps@gmail.com",
  copyrightOwner: "Joao Canhita"                 // footer owner
};

/* ===== Translations for a strict “no data collected” policy ===== */
const T = {
  "en": {
    title: "Privacy Policy",
    effectiveDatePrefix: "Effective date",
    sectionNoData: "We Collect No Data",
    sectionPermissions: "Device Permissions",
    sectionChanges: "Changes to This Policy",
    sectionContact: "Contact Us",
    noData1: `${CONFIG.appName} does not collect, use, store, share, or sell any personal data or usage data.`,
    noDataList: [
      "No account required",
      "No analytics or tracking",
      "No crash reporting sent off-device",
      "No ads or third-party SDKs collecting data",
      "No cookies or web beacons"
    ],
    noData2: "All functionality operates on-device only. Nothing leaves your device to our servers.",
    permissions: "If the app requests system permissions (e.g., Camera for mirror preview), they are used solely to provide that feature locally. Images and camera frames are not transmitted to us.",
    changes1: "We may update this policy from time to time. When we do, we will update the Effective Date shown above.",
    changes2: "You are encouraged to review this page periodically for any changes.",
    contact: "If you have questions about this Privacy Policy, please contact us:",
    contactBullets: { emailLabel: "Email" },
    footer: `© ${new Date().getFullYear()} ${CONFIG.copyrightOwner}. All rights reserved.`,
    langLabel: "Language:"
  },

  "ar": {
    title: "سياسة الخصوصية",
    effectiveDatePrefix: "تاريخ السريان",
    sectionNoData: "لا نجمع أي بيانات",
    sectionPermissions: "أذونات الجهاز",
    sectionChanges: "التغييرات على هذه السياسة",
    sectionContact: "اتصل بنا",
    noData1: `${CONFIG.appName} لا يجمع أو يستخدم أو يخزّن أو يشارك أو يبيع أي بيانات شخصية أو بيانات استخدام.`,
    noDataList: [
      "لا حاجة إلى حساب",
      "لا تحليلات ولا تتبّع",
      "لا تقارير أعطال تُرسل خارج الجهاز",
      "لا إعلانات أو حِزم طرف ثالث تجمع بيانات",
      "لا ملفات تعريف ارتباط أو إشارات ويب"
    ],
    noData2: "تعمل جميع الميزات محليًا على جهازك ولا تُرسل أي بيانات إلى خوادمنا.",
    permissions: "إذا طلب التطبيق أذونات للنظام (مثل الكاميرا لعرض المرآة)، فهي تُستخدم فقط لتوفير هذه الميزة محليًا. لا تُرسل الصور أو إطارات الكاميرا إلينا.",
    changes1: "قد نقوم بتحديث هذه السياسة من حين لآخر مع تحديث تاريخ السريان أعلاه.",
    changes2: "ننصحك بمراجعة هذه الصفحة دوريًا.",
    contact: "لأي استفسارات بخصوص سياسة الخصوصية هذه، يُرجى التواصل معنا:",
    contactBullets: { emailLabel: "البريد الإلكتروني" },
    footer: `© ${new Date().getFullYear()} ${CONFIG.copyrightOwner}. جميع الحقوق محفوظة.`,
    langLabel: "اللغة:"
  },

  "fr": {
    title: "Politique de confidentialité",
    effectiveDatePrefix: "Date d’entrée en vigueur",
    sectionNoData: "Nous ne collectons aucune donnée",
    sectionPermissions: "Autorisations de l’appareil",
    sectionChanges: "Modifications de cette politique",
    sectionContact: "Contactez-nous",
    noData1: `${CONFIG.appName} ne collecte, n’utilise, ne stocke, ne partage ni ne vend aucune donnée personnelle ni donnée d’usage.`,
    noDataList: [
      "Aucun compte requis",
      "Aucune analytique ni suivi",
      "Aucun rapport de crash envoyé hors de l’appareil",
      "Pas de publicités ni de SDK tiers collectant des données",
      "Pas de cookies ni balises web"
    ],
    noData2: "Toutes les fonctions opèrent uniquement sur l’appareil. Rien n’est envoyé à nos serveurs.",
    permissions: "Si l’app demande des autorisations système (ex. Appareil photo pour l’effet miroir), elles servent uniquement à fournir la fonctionnalité localement. Les images/flux caméra ne sont pas transmis.",
    changes1: "Cette politique peut être mise à jour ; la date d’entrée en vigueur sera ajustée.",
    changes2: "Nous vous recommandons de consulter régulièrement cette page.",
    contact: "Pour toute question, contactez-nous :",
    contactBullets: { emailLabel: "E-mail" },
    footer: `© ${new Date().getFullYear()} ${CONFIG.copyrightOwner}. Tous droits réservés.`,
    langLabel: "Langue :"
  },

  "pt-PT": {
    title: "Política de Privacidade",
    effectiveDatePrefix: "Data de entrada em vigor",
    sectionNoData: "Não recolhemos quaisquer dados",
    sectionPermissions: "Permissões do dispositivo",
    sectionChanges: "Alterações a esta política",
    sectionContact: "Contacte-nos",
    noData1: `A ${CONFIG.appName} não recolhe, utiliza, armazena, partilha nem vende quaisquer dados pessoais ou de utilização.`,
    noDataList: [
      "Sem conta necessária",
      "Sem análises ou rastreamento",
      "Sem relatórios de falhas enviados para fora do dispositivo",
      "Sem anúncios ou SDKs de terceiros que recolham dados",
      "Sem cookies ou web beacons"
    ],
    noData2: "Todas as funcionalidades operam apenas no dispositivo. Nada é enviado para os nossos servidores.",
    permissions: "Se a app pedir permissões do sistema (ex.: Câmara para a vista espelho), são usadas apenas para essa função localmente. Imagens e frames não são transmitidos.",
    changes1: "Esta política pode ser atualizada; a data de vigor será ajustada.",
    changes2: "Recomendamos rever esta página regularmente.",
    contact: "Questões? Contacte-nos:",
    contactBullets: { emailLabel: "Email" },
    footer: `© ${new Date().getFullYear()} ${CONFIG.copyrightOwner}. Todos os direitos reservados.`,
    langLabel: "Idioma:"
  },

  "pt-BR": {},

  "es": {
    title: "Política de privacidad",
    effectiveDatePrefix: "Fecha de entrada en vigor",
    sectionNoData: "No recopilamos datos",
    sectionPermissions: "Permisos del dispositivo",
    sectionChanges: "Cambios en esta política",
    sectionContact: "Contáctenos",
    noData1: `${CONFIG.appName} no recopila, utiliza, almacena, comparte ni vende datos personales ni de uso.`,
    noDataList: [
      "No se requiere cuenta",
      "Sin analíticas ni seguimiento",
      "Sin informes de fallos enviados fuera del dispositivo",
      "Sin anuncios ni SDKs de terceros que recolecten datos",
      "Sin cookies ni balizas web"
    ],
    noData2: "Todo funciona en el dispositivo. Nada se envía a nuestros servidores.",
    permissions: "Si la app solicita permisos del sistema (p. ej., Cámara para modo espejo), se usan solo para esa función localmente. No transmitimos imágenes ni vídeo.",
    changes1: "Esta política puede actualizarse periódicamente; actualizaremos la fecha.",
    changes2: "Le recomendamos revisar esta página con regularidad.",
    contact: "Si tiene preguntas, contáctenos:",
    contactBullets: { emailLabel: "Correo electrónico" },
    footer: `© ${new Date().getFullYear()} ${CONFIG.copyrightOwner}. Todos los derechos reservados.`,
    langLabel: "Idioma:"
  },

  "de": {
    title: "Datenschutzerklärung",
    effectiveDatePrefix: "Geltungsdatum",
    sectionNoData: "Wir erheben keine Daten",
    sectionPermissions: "Geräteberechtigungen",
    sectionChanges: "Änderungen an dieser Richtlinie",
    sectionContact: "Kontakt",
    noData1: `${CONFIG.appName} erhebt, nutzt, speichert, teilt oder verkauft keinerlei personenbezogene Daten oder Nutzungsdaten.`,
    noDataList: [
      "Kein Konto erforderlich",
      "Keine Analytik oder Tracking",
      "Keine Absturzberichte, die das Gerät verlassen",
      "Keine Werbung oder Drittanbieter-SDKs mit Datenerhebung",
      "Keine Cookies oder Web Beacons"
    ],
    noData2: "Alle Funktionen laufen ausschließlich auf dem Gerät. Es werden keine Daten an unsere Server gesendet.",
    permissions: "Falls die App Systemberechtigungen anfordert (z. B. Kamera für die Spiegelansicht), werden sie nur lokal für diese Funktion verwendet. Bilder/Kameradaten werden nicht übertragen.",
    changes1: "Diese Richtlinie kann gelegentlich aktualisiert werden; das Geltungsdatum wird angepasst.",
    changes2: "Bitte prüfen Sie diese Seite regelmäßig.",
    contact: "Fragen? Kontaktieren Sie uns:",
    contactBullets: { emailLabel: "E-Mail" },
    footer: `© ${new Date().getFullYear()} ${CONFIG.copyrightOwner}. Alle Rechte vorbehalten.`,
    langLabel: "Sprache:"
  },

  "it": {
    title: "Informativa sulla privacy",
    effectiveDatePrefix: "Data di efficacia",
    sectionNoData: "Non raccogliamo alcun dato",
    sectionPermissions: "Autorizzazioni del dispositivo",
    sectionChanges: "Modifiche alla presente informativa",
    sectionContact: "Contattaci",
    noData1: `${CONFIG.appName} non raccoglie, utilizza, archivia, condivide o vende dati personali o di utilizzo.`,
    noDataList: [
      "Nessun account richiesto",
      "Nessuna analitica o tracciamento",
      "Nessun report di crash inviato fuori dal dispositivo",
      "Nessuna pubblicità o SDK di terze parti che raccolgono dati",
      "Nessun cookie o web beacon"
    ],
    noData2: "Tutte le funzionalità operano solo sul dispositivo. Nessun dato viene inviato ai nostri server.",
    permissions: "Se l’app richiede permessi di sistema (es. Fotocamera per la modalità specchio), sono usati esclusivamente in locale. Le immagini non vengono trasmesse.",
    changes1: "Questa informativa può essere aggiornata; aggiorneremo la data di efficacia.",
    changes2: "Ti invitiamo a consultare periodicamente questa pagina.",
    contact: "Per domande, contattaci:",
    contactBullets: { emailLabel: "E-mail" },
    footer: `© ${new Date().getFullYear()} ${CONFIG.copyrightOwner}. Tutti i diritti riservati.`,
    langLabel: "Lingua:"
  },

  "ja": {
    title: "プライバシーポリシー",
    effectiveDatePrefix: "施行日",
    sectionNoData: "データは収集しません",
    sectionPermissions: "デバイスの権限",
    sectionChanges: "本ポリシーの変更",
    sectionContact: "お問い合わせ",
    noData1: `${CONFIG.appName} は、個人情報や利用データを収集・利用・保存・共有・販売しません。`,
    noDataList: [
      "アカウント不要",
      "分析やトラッキングなし",
      "クラッシュレポートの外部送信なし",
      "データ収集を行う広告やサードパーティ SDK なし",
      "Cookie や Web ビーコンなし"
    ],
    noData2: "すべての機能はデバイス上のみで動作し、当社サーバーへ送信されることはありません。",
    permissions: "アプリがシステム権限（例：鏡表示のためのカメラ）を求める場合、その機能をローカルで提供するためだけに使用します。画像は送信されません。",
    changes1: "本ポリシーは随時更新される場合があり、その際は施行日を変更します。",
    changes2: "変更の有無を定期的にご確認ください。",
    contact: "本ポリシーに関するお問い合わせは、以下までご連絡ください：",
    contactBullets: { emailLabel: "メール" },
    footer: `© ${new Date().getFullYear()} ${CONFIG.copyrightOwner}. 無断転載を禁じます。`,
    langLabel: "言語："
  },

  "ko": {
    title: "개인정보 처리방침",
    effectiveDatePrefix: "시행일",
    sectionNoData: "데이터를 수집하지 않습니다",
    sectionPermissions: "기기 권한",
    sectionChanges: "본 방침의 변경",
    sectionContact: "문의하기",
    noData1: `${CONFIG.appName}은(는) 개인 정보 및 사용 데이터를 수집·이용·저장·공유·판매하지 않습니다.`,
    noDataList: [
      "계정 불필요",
      "분석/추적 없음",
      "기기 외부로 전송되는 크래시 리포트 없음",
      "데이터를 수집하는 광고/서드파티 SDK 없음",
      "쿠키 또는 웹 비콘 없음"
    ],
    noData2: "모든 기능은 기기 내에서만 동작하며, 당사 서버로 전송되지 않습니다.",
    permissions: "앱이 시스템 권한(예: 거울 미리보기용 카메라)을 요청하는 경우 해당 기능을 로컬에서 제공하기 위한 용도로만 사용됩니다. 이미지/프레임은 전송되지 않습니다.",
    changes1: "본 방침은 수시로 업데이트될 수 있으며 시행일이 갱신됩니다.",
    changes2: "변경 사항 확인을 위해 이 페이지를 주기적으로 확인해 주세요.",
    contact: "문의 사항은 아래로 연락해 주세요:",
    contactBullets: { emailLabel: "이메일" },
    footer: `© ${new Date().getFullYear()} ${CONFIG.copyrightOwner}. 판권 소유.`,
    langLabel: "언어:"
  },

  "ru": {
    title: "Политика конфиденциальности",
    effectiveDatePrefix: "Дата вступления в силу",
    sectionNoData: "Мы не собираем данные",
    sectionPermissions: "Разрешения устройства",
    sectionChanges: "Изменения настоящей политики",
    sectionContact: "Связаться с нами",
    noData1: `${CONFIG.appName} не собирает, не использует, не хранит, не передает и не продает персональные или эксплуатационные данные.`,
    noDataList: [
      "Учетная запись не требуется",
      "Без аналитики и трекинга",
      "Без отправки отчетов о сбоях за пределы устройства",
      "Нет рекламы или сторонних SDK, собирающих данные",
      "Без cookies или веб-маяков"
    ],
    noData2: "Вся функциональность работает только на устройстве. Ничего не отправляется на наши серверы.",
    permissions: "Если приложению требуются системные разрешения (например, Камера для режима «зеркало»), они используются исключительно локально. Изображения/кадры камеры не передаются нам.",
    changes1: "Эта политика может периодически обновляться; дата вступления в силу будет изменена.",
    changes2: "Рекомендуем периодически проверять эту страницу.",
    contact: "По вопросам свяжитесь с нами:",
    contactBullets: { emailLabel: "Эл. почта" },
    footer: `© ${new Date().getFullYear()} ${CONFIG.copyrightOwner}. Все права защищены.`,
    langLabel: "Язык:"
  },

  "he": {
    title: "מדיניות פרטיות",
    effectiveDatePrefix: "תאריך תחולה",
    sectionNoData: "איננו אוספים נתונים",
    sectionPermissions: "הרשאות מכשיר",
    sectionChanges: "שינויים במדיניות",
    sectionContact: "צור קשר",
    noData1: `${CONFIG.appName} אינו אוסף, משתמש, מאחסן, משתף או מוכר מידע אישי או נתוני שימוש.`,
    noDataList: [
      "אין צורך בחשבון",
      "ללא אנליטיקה או מעקב",
      "ללא שליחת דוחות קריסה מחוץ למכשיר",
      "אין פרסומות או ערכות צד ג' שאוספות נתונים",
      "ללא קובצי Cookie או web beacons"
    ],
    noData2: "כל הפעולות נעשות מקומית על המכשיר. לא נשלח דבר לשרתי החברה.",
    permissions: "אם האפליקציה מבקשת הרשאות (למשל מצלמה), הן משמשות רק להפעלה מקומית של הפונקציונליות. תמונות/פריימים אינם נשלחים.",
    changes1: "ייתכנו עדכונים מעת לעת; תאריך התחולה יעודכן בהתאם.",
    changes2: "מומלץ לעיין בדף זה מדי פעם.",
    contact: "לשאלות, ניתן ליצור קשר:",
    contactBullets: { emailLabel: "דוא\"ל" },
    footer: `© ${new Date().getFullYear()} ${CONFIG.copyrightOwner}. כל הזכויות שמורות.`,
    langLabel: "שפה:"
  },

  "tr": {
    title: "Gizlilik Politikası",
    effectiveDatePrefix: "Yürürlük tarihi",
    sectionNoData: "Veri toplamıyoruz",
    sectionPermissions: "Cihaz İzinleri",
    sectionChanges: "Bu Politikadaki Değişiklikler",
    sectionContact: "Bize Ulaşın",
    noData1: `${CONFIG.appName}, kişisel veri veya kullanım verilerini toplamaz, kullanmaz, saklamaz, paylaşmaz veya satmaz.`,
    noDataList: [
      "Hesap gerekmez",
      "Analitik veya izleme yok",
      "Cihaz dışına gönderilen çökme raporları yok",
      "Veri toplayan reklamlar veya üçüncü taraf SDK’lar yok",
      "Çerezler veya web işaretçileri yok"
    ],
    noData2: "Tüm işlevler yalnızca cihaz üzerinde çalışır. Sunucularımıza hiçbir şey gönderilmez.",
    permissions: "Uygulama sistem izinleri isterse (ör. ayna görünümü için Kamera), yalnızca bu özelliği yerelde sağlamak için kullanılır. Görüntüler bize iletilmez.",
    changes1: "Bu politika zaman zaman güncellenebilir; yürürlük tarihi buna göre güncellenir.",
    changes2: "Lütfen bu sayfayı düzenli olarak kontrol edin.",
    contact: "Sorularınız için bizimle iletişime geçin:",
    contactBullets: { emailLabel: "E-posta" },
    footer: `© ${new Date().getFullYear()} ${CONFIG.copyrightOwner}. Tüm hakları saklıdır.`,
    langLabel: "Dil:"
  },

  "zh-Hans": {
    title: "隐私政策",
    effectiveDatePrefix: "生效日期",
    sectionNoData: "我们不收集任何数据",
    sectionPermissions: "设备权限",
    sectionChanges: "本政策的变更",
    sectionContact: "联系我们",
    noData1: `${CONFIG.appName} 不会收集、使用、存储、共享或出售任何个人数据或使用数据。`,
    noDataList: [
      "无需账户",
      "无分析或跟踪",
      "无将崩溃报告发送到设备外",
      "无收集数据的广告或第三方 SDK",
      "无 Cookie 或网络信标"
    ],
    noData2: "所有功能都仅在设备本地运行。不会向我们的服务器发送任何数据。",
    permissions: "如应用请求系统权限（例如用于镜像预览的相机），仅用于在本地提供该功能。图像/相机画面不会被传输。",
    changes1: "我们可能会不时更新本政策，并相应更新上方“生效日期”。",
    changes2: "建议您定期查看此页面以了解任何变更。",
    contact: "如有问题，请联系我们：",
    contactBullets: { emailLabel: "电子邮箱" },
    footer: `© ${new Date().getFullYear()} ${CONFIG.copyrightOwner}。保留所有权利。`,
    langLabel: "语言："
  },

  "zh-Hant": {
    title: "隱私權政策",
    effectiveDatePrefix: "生效日期",
    sectionNoData: "我們不蒐集任何資料",
    sectionPermissions: "裝置權限",
    sectionChanges: "本政策之變更",
    sectionContact: "聯絡我們",
    noData1: `${CONFIG.appName} 不會蒐集、使用、儲存、分享或販售任何個人資料或使用資料。`,
    noDataList: [
      "不需帳號",
      "無分析或追蹤",
      "不會將當機回報傳出裝置",
      "無蒐集資料的廣告或第三方 SDK",
      "無 Cookie 或網路信標"
    ],
    noData2: "所有功能僅在裝置上本地運作，不會傳送任何資料到我們的伺服器。",
    permissions: "若應用程式請求系統權限（如鏡像預覽的相機），僅為在本地提供該功能之用。影像/相機畫面不會被傳輸。",
    changes1: "我們可能不時更新本政策，並相應更新上方「生效日期」。",
    changes2: "建議您定期查看此頁面以了解任何變更。",
    contact: "如有疑問，請與我們聯絡：",
    contactBullets: { emailLabel: "電子郵件" },
    footer: `© ${new Date().getFullYear()} ${CONFIG.copyrightOwner}。保留所有權利。`,
    langLabel: "語言："
  },

  /* Region variants inherit base strings automatically */
  "en-GB": {}, "en-AU": {}, "en-CA": {}, "pt-BR": {}, "es-MX": {}, "ar-SA": {}
};

/* ===== Locale plumbing & rendering ===== */
const RTL = new Set(["ar","ar-SA","he"]);
const langSelect = document.getElementById("lang");

function normalize(code){ return (code || "en").replace("_","-"); }
function baseOf(code){ return normalize(code).split("-")[0]; }
function pickStrings(locale){
  const loc = normalize(locale);
  if (T[loc] && Object.keys(T[loc]).length) return T[loc];
  const base = baseOf(loc);
  return T[base] || T["en"];
}
function bestLocale(){
  const nav = (navigator.languages && navigator.languages[0]) || navigator.language || "en";
  const norm = normalize(nav);
  if (T[norm]) return norm;
  const base = baseOf(norm);
  return T[base] ? base : "en";
}
function populateLanguageOptions(current){
  langSelect.innerHTML = "";
  Object.keys(T).sort().forEach(k=>{
    const opt=document.createElement("option");
    opt.value=k; opt.textContent=k;
    if(k===current) opt.selected=true;
    langSelect.appendChild(opt);
  });
}
function formatDate(iso, locale){
  try { return new Date(iso).toLocaleDateString(locale,{year:'numeric',month:'long',day:'numeric'}) }
  catch { return iso; }
}

function render(locale){
  const t = pickStrings(locale);
  document.documentElement.lang = locale;
  document.documentElement.dir = RTL.has(locale) ? "rtl" : "ltr";

  // Titles / headers
  document.getElementById("title").textContent = t.title;
  document.getElementById("langLabel").textContent = t.langLabel || "Language:";
  document.getElementById("effectiveDate").textContent = `${t.effectiveDatePrefix}: ${formatDate(CONFIG.effectiveDateISO, locale)}`;
  document.getElementById("sectionNoData").textContent = t.sectionNoData;
  document.getElementById("sectionPermissions").textContent = t.sectionPermissions;
  document.getElementById("sectionChanges").textContent = t.sectionChanges;
  document.getElementById("sectionContact").textContent = t.sectionContact;

  // Body
  document.getElementById("pNoData1").textContent = t.noData1;

  const ul = document.getElementById("listNoData");
  ul.innerHTML = "";
  (t.noDataList || []).forEach(x => {
    const li = document.createElement("li");
    li.textContent = x;
    ul.appendChild(li);
  });

  document.getElementById("pNoData2").textContent = t.noData2;
  document.getElementById("pPermissions").textContent = t.permissions;

  document.getElementById("pChanges1").textContent = t.changes1;
  document.getElementById("pChanges2").textContent = t.changes2;

  document.getElementById("pContact").textContent = t.contact;
  const ulc = document.getElementById("listContact");
  ulc.innerHTML = "";
  const li = document.createElement("li");
  li.innerHTML = `${t.contactBullets?.emailLabel || "Email"}: <a href="mailto:${CONFIG.contactEmail}">${CONFIG.contactEmail}</a>`;
  ulc.appendChild(li);

  document.getElementById("footerNote").textContent = t.footer;
}

/* Init */
(function init(){
  const locale = bestLocale();
  populateLanguageOptions(locale);
  render(locale);
  langSelect.addEventListener("change", e => render(e.target.value));
})();
</script>
</body>
</html>